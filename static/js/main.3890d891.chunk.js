(this["webpackJsonprenault-order-status"]=this["webpackJsonprenault-order-status"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=(a(92),a(15)),s=(a(93),a(154)),l=a(150),u=r.a.createContext({loading:!1,useMock:!1,carData:[],setCarData:function(e){},setLoading:function(e){},setUseMock:function(e){}}),m=r.a.createContext({open:!1,message:"Oops! Something happened",setOpen:function(){},setMessage:function(){}}),d=a(156),p=a(159),f=a(158),g=a(117),b=a(115),x=a(157),E=a(51),v=a.n(E),h=a(52),y=a.n(h),O=a(53),j=a.n(O),C=a(54),k=a.n(C),N=a(55),T=a.n(N),w=a(56),S=a.n(w),D=a(57),I=a.n(D),P=a(58),M=a.n(P),Y=a(59),B=a.n(Y),R=a(60),X=a.n(R),z=a(61),U=a.n(z),_=a(62),q=a.n(_),A=a(63),L=a.n(A),Q=a(64),V=a.n(Q),H=a(65),W=a.n(H),F=a(66),K=a.n(F),G=a(67),J=a.n(G),Z=a(68),$=a.n(Z),ee=a(69),te=a.n(ee),ae=a(70),ne=a.n(ae),re=a(71),oe=a.n(re),ce=a(72),ie=a.n(ce),se={yqy:k.a,ynl:y.a,yqz:j.a,d17:T.a,d69:S.a,kad:I.a,npi:M.a,rqh:B.a,xtk:X.a,xtl:U.a,xtm:q.a,xtn:L.a,xtp:V.a,xtr:W.a,xue:K.a,xvq:J.a,ynn:$.a,yqx:te.a,yra:ne.a,yrb:oe.a,yrc:ie.a},le=Object(l.a)({carImage:{maxWidth:"100%",maxHeight:"12rem"}}),ue=function(e){var t=e.carColor,a=le();return r.a.createElement("figure",null,r.a.createElement("img",{className:a.carImage,src:se[t.toLowerCase()]||v.a,alt:"You car"}))},me=a(155),de=Object(l.a)({passed:{color:"green"},stepsContainer:{padding:"0 2rem"},step:{display:"flex",justifyItems:"center",padding:".25rem 0"}}),pe=function(){var e=Object(n.useContext)(u).carData,t=de(),a=e[0].status;return r.a.createElement("div",null,r.a.createElement(b.a,{variant:"h4",gutterBottom:!0},"Detailed status of your order:"),r.a.createElement(s.a,{container:!0,className:t.stepsContainer,justify:"center"},["Order confirmed","Car ready","Car ready 2","On it's way to dealer","Delivered to dealer","Received by customer"].map((function(e,n){return r.a.createElement(s.a,{item:!0,xs:12,sm:6,md:4,key:e,className:n<a?t.passed:""},r.a.createElement("div",{className:t.step},n<a&&r.a.createElement(me.a,null,"check_circle_outline"),n>=a&&r.a.createElement(me.a,null,"highlight_off")," Step ".concat(n+1,": ").concat(e)))}))))},fe=Object(l.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function ge(){var e=fe(),t=Object(n.useContext)(u),a=t.carData,o=t.loading,c=Object(n.useContext)(m),i=c.setOpen,l=c.setMessage;return r.a.createElement(d.a,{className:e.root,variant:"outlined"},o&&r.a.createElement(x.a,null),!o&&a.length&&r.a.createElement(f.a,null,r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,xs:12,md:6},r.a.createElement(b.a,{className:e.root,align:"left",color:"textPrimary",gutterBottom:!0},"Order information"),r.a.createElement("hr",null),r.a.createElement(b.a,{className:e.title,align:"left",color:"textSecondary",gutterBottom:!0},"Your car color is"," ",a[1].color),r.a.createElement(b.a,{className:e.title,align:"left",color:"textSecondary",gutterBottom:!0},"Your car model is Renault"," ",a[1].model," ",a[1].version.replace(/_/g," ")),r.a.createElement(b.a,{className:e.title,align:"left",color:"textSecondary",gutterBottom:!0},"Expected time of production"," ",new Date(a[2].realdt).toDateString()," ",new Date(a[2].realdt).toTimeString()),r.a.createElement(b.a,{className:e.title,align:"left",color:"textSecondary",gutterBottom:!0},"Planned time of production"," ",new Date(a[2].plandt).toDateString()," ",new Date(a[2].plandt).toTimeString())),r.a.createElement(s.a,{item:!0,xs:12,md:6},r.a.createElement(ue,{carColor:a[1].color}))),r.a.createElement(s.a,{container:!0,alignContent:"center",justify:"center"},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(pe,null)))),!o&&!a.length&&r.a.createElement("h1",null,"No car data"),!o&&a.length&&r.a.createElement(p.a,null,r.a.createElement(g.a,{size:"small",style:{margin:"0 auto"},variant:"outlined",onClick:function(){i(!0),l("Telegram bot is not available yet")}},"Subscribe to telegram bot")))}var be=a(38),xe=a(163),Ee=a(160),ve=a(32),he=a.n(ve),ye=[{status:10},{color:"YQZ",model:"KAPTUR",version:"Style_TCe150_4x4_CVT_X-Tronic"},{plandt:"2020-08-23T20:38:27.399345+00:00",realdt:"2020-08-23T20:38:27.12661+00:00"},{deldt:"2020-08-24T00:00:00+00:00",effdt:null,indt:"2020-08-05T00:00:00+00:00",madcdt:"2020-07-30T11:55:50+00:00",miledt:"2020-07-30T12:03:01+00:00",orderdt:"2020-08-17T00:00:00+00:00",outdt:"2020-08-05T06:32:33+00:00",pickdt:null}],Oe="https://rdwapp.renault.ru/api/v1",je=function(e){var t="".concat(Oe,"/status/").concat(e);return he.a.get(t)},Ce=function(e){var t="".concat(Oe,"/dates2/").concat(e);return he.a.get(t)},ke=function(e){var t="".concat(Oe,"/dates6/").concat(e);return he.a.get(t)},Ne=function(e){var t="".concat(Oe,"/info/").concat(e);return he.a.get(t)},Te=Object(l.a)((function(e){var t;return t={header:{paddingBottom:"1rem"},root:{width:"60%"}},Object(be.a)(t,e.breakpoints.down("sm"),{root:{width:"80%"}}),Object(be.a)(t,e.breakpoints.down("xs"),{buttons:{marginTop:"1rem"}}),t})),we=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),l=Object(i.a)(c,2),d=l[0],p=l[1],f=Object(n.useContext)(u),x=f.setCarData,E=f.setLoading,v=f.useMock,h=f.setUseMock,y=Object(n.useContext)(m),O=y.setOpen,j=y.setMessage,C=Te(),k=function(){a||v?(E(!0),x({}),function(e,t){return t?Promise.resolve(ye):Promise.all([je(e),Ne(e),Ce(e),ke(e)]).then((function(e){return Promise.resolve(e.map((function(e){return e.data.data[0].attributes})))}))}(a,v).then((function(e){console.log(e),x(e),p(!1)})).catch((function(){p(!0),O(!0),j("Please, check your VIN. Request error occurred")})).finally((function(){return E(!1)}))):p(!0)};return r.a.createElement("div",{className:C.root},r.a.createElement(s.a,{container:!0,justify:"center"},r.a.createElement(b.a,{variant:"h4"},"Please enter your VIN code")),r.a.createElement(s.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(s.a,{item:!0,sm:6,xs:12},r.a.createElement(xe.a,{id:"vin",variant:"outlined",label:"VIN",required:!0,helperText:d?"Incorrect VIN":"",error:d,value:a,onChange:function(e){return t=e.target.value,void o(t.trim());var t}})),r.a.createElement(s.a,{item:!0,sm:6,xs:12,className:C.buttons},r.a.createElement(Ee.a,{size:"medium"},r.a.createElement(g.a,{variant:"contained",color:"primary",size:"medium",onClick:function(){return k()}},"Get Info"),r.a.createElement(g.a,{variant:v?"contained":"outlined",color:"secondary",size:"medium",onClick:function(){return h(!v),O(!0),void j(v?"Real API data will be used":"Mock data shall be used instead of the real API")}},v?"Use API":"Use Mock")))))},Se=a(161),De=Object(l.a)({root:{position:"fixed",bottom:0,background:"#FFF",borderTop:"1px solid gray"}}),Ie=function(){var e=De();return r.a.createElement(s.a,{container:!0,justify:"center",alignItems:"center",className:e.root},r.a.createElement(b.a,{variant:"caption"},"This is not an official service. Not used for commercial purposes. Use at your own risk. "),r.a.createElement(b.a,{variant:"caption"},r.a.createElement(Se.a,{href:"https://github.com/alfumit/renault-order-status"},"Github Repository")))},Pe=a(165),Me=a(162),Ye=Object(l.a)({root:{opacity:1}}),Be=function(e){var t=Object(n.useContext)(m),a=t.open,o=void 0===a||a,c=t.message,i=void 0===c?"Default message":c,s=t.setOpen,l=Ye(),u=function(e,t){"clickaway"!==t&&s(!1)};return r.a.createElement("div",null,r.a.createElement(Pe.a,{className:l.root,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,onClose:u,autoHideDuration:3e3,message:i,action:r.a.createElement(Me.a,{size:"small","aria-label":"close",color:"inherit",onClick:u},r.a.createElement(me.a,null,"close"))}))},Re=Object(l.a)({vinHeader:{padding:"0 0 1rem"}});var Xe=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),l=Object(i.a)(c,2),d=l[0],p=l[1],f=Object(n.useState)(!1),g=Object(i.a)(f,2),b=g[0],x=g[1],E=Object(n.useState)(!1),v=Object(i.a)(E,2),h=v[0],y=v[1],O=Object(n.useState)(""),j=Object(i.a)(O,2),C={loading:d,carData:a,useMock:b,setCarData:o,setLoading:p,setUseMock:x},k={open:h,message:j[0],setOpen:y,setMessage:j[1]},N=Re();return r.a.createElement(m.Provider,{value:k},r.a.createElement(u.Provider,{value:C},r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{container:!0,className:N.vinHeader,alignContent:"center",justify:"center"},r.a.createElement(we,null)),r.a.createElement(s.a,{container:!0,justify:"center",alignContent:"center"},r.a.createElement(ge,null))),r.a.createElement(Ie,null),r.a.createElement(Be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,a){e.exports=a.p+"static/media/unknown.49d99b9f.png"},52:function(e,t,a){e.exports=a.p+"static/media/YNL.6955fcb6.png"},53:function(e,t,a){e.exports=a.p+"static/media/YQZ.8314be94.png"},54:function(e,t,a){e.exports=a.p+"static/media/YQY.ddfee3ae.png"},55:function(e,t,a){e.exports=a.p+"static/media/D17.c393476d.png"},56:function(e,t,a){e.exports=a.p+"static/media/D69.da680879.png"},57:function(e,t,a){e.exports=a.p+"static/media/KAD.64992532.png"},58:function(e,t,a){e.exports=a.p+"static/media/NPI.8b143404.png"},59:function(e,t,a){e.exports=a.p+"static/media/RQH.ddd1999f.png"},60:function(e,t,a){e.exports=a.p+"static/media/XTK.6ffc23b3.png"},61:function(e,t,a){e.exports=a.p+"static/media/XTL.ca4c1e4c.png"},62:function(e,t,a){e.exports=a.p+"static/media/XTM.2d467ac1.png"},63:function(e,t,a){e.exports=a.p+"static/media/XTN.9ac98779.png"},64:function(e,t,a){e.exports=a.p+"static/media/XTP.a4f80941.png"},65:function(e,t,a){e.exports=a.p+"static/media/XTR.1674ec61.png"},66:function(e,t,a){e.exports=a.p+"static/media/XUE.05aeb129.png"},67:function(e,t,a){e.exports=a.p+"static/media/XVQ.002ac380.png"},68:function(e,t,a){e.exports=a.p+"static/media/YNN.fdf20c06.png"},69:function(e,t,a){e.exports=a.p+"static/media/YQX.070b4158.png"},70:function(e,t,a){e.exports=a.p+"static/media/YRA.ca8584ce.png"},71:function(e,t,a){e.exports=a.p+"static/media/YRB.203f1210.png"},72:function(e,t,a){e.exports=a.p+"static/media/YRC.0a26def1.png"},87:function(e,t,a){e.exports=a(114)},92:function(e,t,a){},93:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.3890d891.chunk.js.map